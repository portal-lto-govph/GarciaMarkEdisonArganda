"use strict";if(dermalog.dl_a_public_portal.messages={cancelText:function(){var e=apex.item("P0_CANCEL_TEXT").getValue().replace("<br>","\n");return"string"==typeof e&&""!=e?e:"No cancel text found. Please contact system administrator."},customCancel:function(e){e.message="string"==typeof e.message&&""!=e.message?e.message:this.cancelText(),e.okLabel="string"==typeof e.okLabel&&""!=e.okLabel?e.okLabel:"Yes",e.cancelLabel="string"==typeof e.cancelLabel&&""!=e.cancelLabel?e.cancelLabel:"No",e.onlyShowOnChange="boolean"!=typeof e.onlyShowOnChange||e.onlyShowOnChange,e.showSubmitSpinner="boolean"!=typeof e.showSubmitSpinner||e.showSubmitSpinner;let a=!0;if(!0===e.forceShowMessage)a=!0;else if(!1===e.forceShowMessage)a=!1;else if(e.onlyShowOnChange){let t=this.getPageHash();a=t!==this.pageHashOnLoad}switch(e.type){case"SUBMIT":a?(e.callback=function(a){a&&apex.submit({request:e.request,showWait:e.showSubmitSpinner})},s(e)):apex.submit({request:e.request,showWait:e.showSubmitSpinner});break;case"REDIRECT":e.clearCache=void 0===e.clearCache?"":e.clearCache,a?(e.callback=function(a){a&&apex.navigation.redirect("f?p=PUBLIC_PORTAL:"+e.page+":"+apex.item("pInstance").getValue()+":::"+e.clearCache)},s(e)):apex.navigation.redirect("f?p=PUBLIC_PORTAL:"+e.page+":"+apex.item("pInstance").getValue()+":::"+e.clearCache);break;case"MODAL":a?(e.callback=function(e){e&&apex.navigation.dialog.cancel(!0)},s(e)):apex.navigation.dialog.cancel(!0);break;default:console.error(e.type+" not supported in message.")}function s(e){let a={"APEX.DIALOG.OK":apex.lang.getMessage("APEX.DIALOG.OK"),"APEX.DIALOG.CANCEL":apex.lang.getMessage("APEX.DIALOG.CANCEL")};apex.lang.addMessages({"APEX.DIALOG.OK":e.okLabel}),apex.lang.addMessages({"APEX.DIALOG.CANCEL":e.cancelLabel}),apex.message.confirm(e.message,e.callback),$(".ui-dialog-title").html('<span class="iconPlaceholder t-Icon fa fa-exclamation-triangle"></span> Cancel'),$(".ui-dialog-content.ui-widget-content").css("padding","20px 20px"),apex.lang.addMessages({"APEX.DIALOG.OK":a["APEX.DIALOG.OK"]}),apex.lang.addMessages({"APEX.DIALOG.CANCEL":a["APEX.DIALOG.CANCEL"]})}},pageHashOnLoad:"",storePageHash:function(){this.pageHashOnLoad=this.getPageHash()},delayedPageHash:function(){setTimeout(()=>{this.storePageHash()},1e3)},getPageHash:function(){let e="";return document.querySelectorAll(".apex-item-text, .apex-item-select, .apex-item-group, .apex-item-textarea").forEach(a=>{e+=apex.item(a.id).getValue()}),dermalog.dl_a_public_portal.md5(e)}},window.attachEvent)window.attachEvent("onload",dermalog.dl_a_public_portal.messages.delayedPageHash.bind(dermalog.dl_a_public_portal.messages));else if(window.onload){var e=window.onload,a=function(a){e(a),dermalog.dl_a_public_portal.messages.delayedPageHash.bind(dermalog.dl_a_public_portal.messages)(a)};window.onload=a}else window.onload=dermalog.dl_a_public_portal.messages.delayedPageHash.bind(dermalog.dl_a_public_portal.messages);